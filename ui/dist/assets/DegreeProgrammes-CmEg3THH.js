import{e as w,f as V,L as _,c as r,M as y,N as g,E as $,a as e,o as c,_ as k,i as x,g as U,d as h,F as b,l as C,b as p,k as S,v as N,w as v,t as m}from"./index-CwD2Tyys.js";import{a as D}from"./announcements-BELDLkia.js";const P={key:1},E=["placeholder","value"],B=w({__name:"EditableText",props:{modelValue:String,placeholder:String},setup(u){const l=V(!1),i=V(null);return _(()=>{var n;l.value&&((n=i.value)==null||n.focus())}),(n,t)=>(c(),r("div",{class:"editable-text",tabindex:"0",onKeyup:t[4]||(t[4]=y(g(d=>l.value=!l.value,["stop"]),["enter"])),onDblclick:t[5]||(t[5]=d=>l.value=!0)},[!l.value&&(u.modelValue||!u.placeholder)?$(n.$slots,"default",{key:0},void 0,!0):(c(),r("div",P,[e("input",{type:"text",ref_key:"input",ref:i,placeholder:u.placeholder,value:u.modelValue,onChange:t[0]||(t[0]=d=>n.$emit("update:modelValue",d.target.value)),onBlur:t[1]||(t[1]=d=>l.value=!1),onKeyup:[t[2]||(t[2]=y(g(d=>l.value=!1,["stop"]),["enter"])),t[3]||(t[3]=y(g(d=>l.value=!1,["stop"]),["esc"]))]},null,40,E)]))],32))}}),f=k(B,[["__scopeId","data-v-84d10948"]]),M={class:"actions"},T=["disabled"],I={class:"programmes"},K={class:"swatch-wrapper"},O=["onUpdate:modelValue"],A=["onClick"],F=w({__name:"DegreeProgrammes",setup(u){const l=V([]),i=V(""),n=async()=>{l.value=await D.db.getDegreeProgrammes(),i.value=JSON.stringify(l.value)},t=async()=>{await D.db.updateDegreeProgrammes(l.value),await n()};x(n);const d=U(()=>JSON.stringify(l.value)!==i.value);return(J,s)=>(c(),r(b,null,[s[4]||(s[4]=e("h1",null,"Degree Programmes",-1)),e("div",M,[e("button",{onClick:t,disabled:!d.value},s[1]||(s[1]=[e("span",{class:"material-symbols-rounded"},"save",-1),h(" Save ")]),8,T)]),e("div",I,[s[3]||(s[3]=e("div",{class:"programme"},[e("span",{class:"swatch"}),e("p",null,"ID"),e("span",null,"Category"),e("span",null,"Channel"),e("span",null,"Role"),e("span",{class:"delete"})],-1)),(c(!0),r(b,null,C(l.value,a=>(c(),r("div",{key:a.id,class:"programme"},[e("div",K,[S(e("input",{type:"color",class:"swatch","onUpdate:modelValue":o=>a.colour=o},null,8,O),[[N,a.colour]])]),p(f,{placeholder:"'Anlassnummer' from students db",modelValue:a.id,"onUpdate:modelValue":o=>a.id=o},{default:v(()=>[e("p",null,m(a.id),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),p(f,{placeholder:"Discord channel category",modelValue:a.category,"onUpdate:modelValue":o=>a.category=o},{default:v(()=>[e("span",null,m(a.category),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),p(f,{placeholder:"Discord channel name",modelValue:a.channel,"onUpdate:modelValue":o=>a.channel=o},{default:v(()=>[e("span",null,m(a.channel),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),p(f,{placeholder:"Discord role name",modelValue:a.role,"onUpdate:modelValue":o=>a.role=o},{default:v(()=>[e("span",null,m(a.role),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),e("span",{onClick:o=>l.value.splice(l.value.indexOf(a),1),class:"delete material-symbols-rounded"}," delete ",8,A)]))),128)),e("div",{class:"add-programme",onClick:s[0]||(s[0]=a=>l.value.push({id:"",category:"",channel:"",role:"",colour:"#000000"}))},s[2]||(s[2]=[e("span",{class:"material-symbols-rounded"},"add",-1),h(" Add Programme ")]))])],64))}}),j=k(F,[["__scopeId","data-v-5ca497d2"]]);export{j as default};
