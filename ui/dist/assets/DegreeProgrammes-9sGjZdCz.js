import{f as D,m as h,N as x,o as i,c,A as $,a as e,O as _,P as V,_ as k,n as S,g as U,e as g,F as b,k as C,x as P,y as I,b as r,w as p,t as v,p as N,d as B}from"./index-CYld1hpn.js";import{a as w}from"./announcements-D4Dle7Lm.js";const E={key:1},O=["placeholder","value"],T=D({__name:"EditableText",props:{modelValue:String,placeholder:String},setup(o){const l=h(!1),u=h(null);return x(()=>{var n;l.value&&(console.log(u.value),(n=u.value)==null||n.focus())}),(n,t)=>(i(),c("div",{class:"editable-text",tabindex:"0",onKeyup:t[4]||(t[4]=_(V(d=>l.value=!l.value,["stop"]),["enter"])),onDblclick:t[5]||(t[5]=d=>l.value=!0)},[!l.value&&(o.modelValue||!o.placeholder)?$(n.$slots,"default",{key:0},void 0,!0):(i(),c("div",E,[e("input",{type:"text",ref_key:"input",ref:u,placeholder:o.placeholder,value:o.modelValue,onChange:t[0]||(t[0]=d=>n.$emit("update:modelValue",d.target.value)),onBlur:t[1]||(t[1]=d=>l.value=!1),onKeyup:[t[2]||(t[2]=_(V(d=>l.value=!1,["stop"]),["enter"])),t[3]||(t[3]=_(V(d=>l.value=!1,["stop"]),["esc"]))]},null,40,O)]))],32))}}),m=k(T,[["__scopeId","data-v-4d758046"]]),f=o=>(N("data-v-7e93d191"),o=o(),B(),o),A=f(()=>e("h1",null,"Degree Programmes",-1)),K={class:"actions"},M=["disabled"],F=f(()=>e("span",{class:"material-symbols-rounded"},"save",-1)),J={class:"programmes"},L=f(()=>e("div",{class:"programme"},[e("span",{class:"swatch"}),e("p",null,"ID"),e("span",null,"Category"),e("span",null,"Channel"),e("span",null,"Role"),e("span",{class:"delete"})],-1)),R={class:"swatch-wrapper"},j=["onUpdate:modelValue"],q=["onClick"],z=f(()=>e("span",{class:"material-symbols-rounded"},"add",-1)),G=D({__name:"DegreeProgrammes",setup(o){const l=h([]),u=h(""),n=async()=>{l.value=await w.db.getDegreeProgrammes(),u.value=JSON.stringify(l.value)},t=async()=>{await w.db.updateDegreeProgrammes(l.value),await n()};S(n);const d=U(()=>JSON.stringify(l.value)!==u.value);return(H,y)=>(i(),c(b,null,[A,e("div",K,[e("button",{onClick:t,disabled:!d.value},[F,g(" Save ")],8,M)]),e("div",J,[L,(i(!0),c(b,null,C(l.value,a=>(i(),c("div",{key:a.id,class:"programme"},[e("div",R,[P(e("input",{type:"color",class:"swatch","onUpdate:modelValue":s=>a.colour=s},null,8,j),[[I,a.colour]])]),r(m,{placeholder:"'Anlassnummer' from students db",modelValue:a.id,"onUpdate:modelValue":s=>a.id=s},{default:p(()=>[e("p",null,v(a.id),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),r(m,{placeholder:"Discord channel category",modelValue:a.category,"onUpdate:modelValue":s=>a.category=s},{default:p(()=>[e("span",null,v(a.category),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),r(m,{placeholder:"Discord channel name",modelValue:a.channel,"onUpdate:modelValue":s=>a.channel=s},{default:p(()=>[e("span",null,v(a.channel),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),r(m,{placeholder:"Discord role name",modelValue:a.role,"onUpdate:modelValue":s=>a.role=s},{default:p(()=>[e("span",null,v(a.role),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),e("span",{onClick:s=>l.value.splice(l.value.indexOf(a),1),class:"delete material-symbols-rounded"}," delete ",8,q)]))),128)),e("div",{class:"add-programme",onClick:y[0]||(y[0]=a=>l.value.push({id:"",category:"",channel:"",role:"",colour:"#000000"}))},[z,g(" Add Programme ")])])],64))}}),X=k(G,[["__scopeId","data-v-7e93d191"]]);export{X as default};
