<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1>Discord Automation Tool</h1>
    
    <h2>Description</h2>
    <div>Export the data from the excel file as CSV and then copy&paste it into the textbox.</div>
    <div>Make sure the table has the format described below.</div>

    <h2>Format</h2>
    <div>Input format: Full module abbreviation, full module name, discord category</div>
    <div>Output format (fields can be splitted with a comma, a new row is a new module):</div>
    <ul>
    	<li>Full module abbreviation</li>
    	<li>Full module name</li>
    	<li>Discord category name</li>
    	<li>Module abbreviation</li>
    	<li>Nadeko channel creation command</li>
    </ul>
    <div>Discord role output (fields can be splitted with a comma, a new row is a new role):</div>
    <ul>
    	<li>Discord category name</li>
    	<li>Discord role name</li>
    	<li>Nadeko role creation command</li>
    	<li>Nadeko role for user assignment command</li>
    	<li>Nadeko "show"-alias command</li>
    	<li>Nadeko "hide"-alias command</li>
    </ul>

    <h2>Tool</h2>
    <!-- TODO: make field splitting char a field -->
    <!-- TODO: make module splitting char a field -->
    <textarea id="input" cols="30" rows="35"></textarea>
    <button onclick="start()">start</button>
    <label for="moduleOutput">Module output:</label>
    <textarea id="moduleOutput" cols="30" rows="35"></textarea>
    <label for="roleOutput">Role output:</label>
    <textarea id="roleOutput" cols="30" rows="35"></textarea>

    <script>
		function start() {
			let rawInput = $("input").val()
			let inputLines = rawInput.split("\n")
			let numberOfModules = inputLines.length
			let allModuleData = []

			for (let i = 0; i < numberOfModules; i++) {
				let moduleData = inputLines[i].split(",")
			}

			// TODO: cast module data to string for output
			let moduleResult = ""
			$("moduleOutput").val(moduleResult)

			// TODO: cast role data to string for output
			let roleResult = ""
			$("roleOutput").val(roleResult)
		}

        function copyButtonTextToClipboard(btn) {
            navigator.clipboard.writeText($(btn).text())
        }
    </script>
</body>
</html>
